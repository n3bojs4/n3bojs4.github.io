---
layout: post
title: 'Pourquoi mon exploit ne marche pas en python3 !'
description: "Mes adresses de retour ne fonctionnent pas correctement, j'ai des caractÃ¨res bizarres :'("
comments: true
keywords: "buffer overflow python3"
author: nebo
---


``` python3 -c 'print("\xff")' | hexdump -C
00000000  c3 bf 0a                                          |...|
00000003
```

``` python2 -c 'print("\xff")' | hexdump -C
00000000  ff 0a                                             |..|
00000002
```

FIX :
-----

``` python3 -c 'import sys ; sys.stdout.buffer.write(b"\xff")' | hexdump -C
00000000  ff                                                |.|
00000001
```


concatener des strings avec des bytes
-------------------------------------


``` >>> toto = "A"*20
>>> tutu = toto + b"\xff" 
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can only concatenate str (not "bytes") to str
```


le fix :

``` >>> toto = ("A"*20).encode("utf-8")
>>> tutu = toto + b"\xff"
```



